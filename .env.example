# Supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Primary LLM (Z.AI)
ZAI_API_KEY=your-zai-key

# Optional LLM fallback (Anthropic)
ANTHROPIC_API_KEY=sk-ant-...

# Perplexity
PERPLEXITY_API_KEY=pplx-...

# Server
PORT=3001
LLM_PROVIDER=zai
# Feature flags
# JD-informed positioning flow is enabled by default; set to 0 for emergency rollback.
FF_POSITIONING_V2=1
MAX_HEAP_USED_MB=0
HEALTH_CHECK_CACHE_TTL_MS=5000

# Scale hardening knobs (optional)
MAX_TOTAL_SSE_CONNECTIONS=5000
MAX_SSE_RATE_USERS=20000
MAX_RATE_LIMIT_BUCKETS=50000
MAX_CREATE_SESSION_BODY_BYTES=20000
MAX_MESSAGE_BODY_BYTES=120000
MAX_RESTORE_MESSAGES=20
MAX_RESTORE_MESSAGE_CHARS=4000
MAX_CREATE_RESUME_BODY_BYTES=220000
MAX_PIPELINE_START_BODY_BYTES=220000
MAX_PIPELINE_RESPOND_BODY_BYTES=120000
MAX_BUFFERED_RESPONSES=25
MAX_BUFFERED_RESPONSE_ITEM_BYTES=100000
MAX_BUFFERED_RESPONSES_TOTAL_BYTES=300000
MAX_SECTION_CONTEXT_EVIDENCE_ITEMS=20
MAX_SECTION_CONTEXT_KEYWORDS=40
MAX_SECTION_CONTEXT_GAPS=40
MAX_SECTION_CONTEXT_ORDER_ITEMS=40
MAX_SECTION_CONTEXT_TEXT_CHARS=700
MAX_SECTION_CONTEXT_BLUEPRINT_BYTES=120000
MAX_PROCESSING_SESSIONS=2000
MAX_PROCESSING_SESSIONS_PER_USER=6
MAX_IN_PROCESS_PIPELINES=5000
MAX_RUNNING_PIPELINES_PER_USER=3
MAX_RUNNING_PIPELINES_GLOBAL=1500
SECTION_REVISION_TIMEOUT_MS=180000
MAX_SECTION_REVIEW_FEEDBACK_CHARS=2000
MAX_SECTION_REVIEW_EDITED_CHARS=12000
MAX_SECTION_REVIEW_REFINEMENTS=12
MAX_SECTION_REVIEW_REFINEMENT_ID_CHARS=80
MAX_SECTION_REVIEW_TOKEN_CHARS=200
STALE_RECOVERY_COOLDOWN_MS=60000
STALE_RECOVERY_BATCH_SIZE=200
MAX_QUEUED_PANEL_PERSISTS=5000
READY_CHECK_TIMEOUT_MS=45000
READY_CHECK_INTERVAL_MS=1000
READY_CHECK_REQUEST_TIMEOUT_MS=5000
RESEARCH_JD_CACHE_MAX=400
RESEARCH_COMPANY_CACHE_MAX=300
RESEARCH_BENCHMARK_CACHE_MAX=400
